{% extends 'base.html.twig' %}

{% block title %}
	{{ people.lastname }} {{ people.name }}
	- Interpol
{% endblock %}

{% block body %}
	<div class="min-h-screen bg-main py-8">
		<div class="container-main">
			{% include "partials/_messages.html.twig" %}

			{# Bouton retour #}
			<div class="w-full mx-auto mb-6" style="max-width: 52rem;">
				<a class="link-nav inline-flex items-center" href="{{ path('app_missing_index') }}">
					<svg class="icon-sm mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
					</svg>
					<span>Retour aux disparus</span>
				</a>
			</div>
			{# carte principale du criminel #}
			<div
				class="card overflow-hidden mb-8 w-full mx-auto"
				style="max-width: 52rem; background: linear-gradient(180deg, #f59e0b 0, #f59e0b 9rem, #ffffff 9rem);">
				<div class="px-6 pt-8 pb-6">
					<div class="flex flex-col md:flex-row gap-6 items-start">
						<div class="w-full md:w-1/2">
							{# image #}
							{% if people.media|length > 0 %}
								<div class="grid grid-cols-1 gap-4">
									{% for media in people.media %}
										<div class="relative group w-full">
											<img src="{{ media.path }}" alt="Média {{ loop.index }}" class="w-full max-w-sm min-w-[16rem] mx-auto h-114 object-cover rounded-lg border border-gray-200">
											<div class="mt-6 text-xl text-gray-900 flex items-center justify-center gap-6">
												<span class="text-semibold">Status :</span>
												<span class="{{ people.isCaptured ? 'badge-captured' : 'badge-researched' }}">{{ people.isCaptured ? 'Retrouvé' : 'Recherché' }}</span>
											</div>
										</div>
									{% endfor %}
								</div>
							{% else %}
								<div class="grid grid-cols-1 gap-4">
									<img class="w-full max-w-sm min-w-[16rem] mx-auto h-114 object-cover rounded-lg border border-gray-200" src="{{ asset('images/nopicture.png') }}" alt="{{ people.lastname }} {{ people.name }}">
									<div class="mt-6 text-xl text-gray-900 flex items-center justify-center gap-6">
										<span class="text-semibold">Status :</span>
										<span class="{{ people.isCaptured ? 'badge-captured' : 'badge-researched' }}">{{ people.isCaptured ? 'Retrouvé' : 'Recherché' }}</span>
									</div>
								</div>
							{% endif %}
						</div>
						<div class="w-full md:w-1/2">
							<h1 class="text-4xl text-white mb-4">{{ people.lastname }}, {{ people.name }}</h1>
							<h2 class="text-xl text-white mb-4">Dernièrement vu{{ people.gender and people.gender.label == 'Femme' ? 'e' : ''}} : <strong>{{ people.researchBy }}</strong></h2>
							<div class="h-10"></div>
							<h1 class="text-3xl text-gray-900 mb-8">Elements d'identification</h1>
							<div class="flex">
								<div class="space-y-2 w-64 pr-10">
									<p class="text-gray-700">Nom de famille</p>
									<p class="text-gray-700">Prénom</p>
									<p class="text-gray-700">Sexe</p>
									<p class="text-gray-700">Couleur de peau</p>
									<p class="text-gray-700">Date de naissance</p>
									<p class="text-gray-700">Lieu de naissance</p>
									<p class="text-gray-700">Nationalité</p>
								</div>
								<div class="space-y-2" style="margin-left: 1rem;">
									<p class="font-semibold">{{ people.lastname }}</p>
									<p class="font-semibold">{{ people.name }}</p>
									<p class="font-semibold">{{ people.gender ? people.gender.label : '—' }}</p>
									<p class="font-semibold">{{ people.skinColor ? people.skinColor.label : '—' }}</p>
									<p class="font-semibold">{{ people.birthDate ? people.birthDate|date('d/m/Y') : '—' }}</p>
									<p class="font-semibold">{{ people.birthPlace }}</p>
									<p class="font-semibold">{% if people.nationalities|length > 0 %}
										{% for nationality in people.nationalities %}
											{{ nationality.label }}{{ not loop.last ? ', ' : '' }}
										{% endfor %}
									{% else %}
										—
									{% endif %}</p>
									
								
								</div>
							</div>

							<h1 class="text-3xl text-gray-900 mt-6 mb-8">Signalement</h1>
							<div class="flex">
								<div class="space-y-2 w-64 pr-10">
									<p class="text-gray-700">Couleur des cheveux</p>
									<p class="text-gray-700">Couleur des yeux</p>
									<p class="text-gray-700">Taille</p>
									<p class="text-gray-700">Poids</p>

								</div>
								<div class="space-y-2">
									<p class="font-semibold">{{ people.hairColor ? people.hairColor.label : '—' }}</p>
									<p class="font-semibold">{{ people.eyesColor ? people.eyesColor.label : '—' }}</p>
									<p class="font-semibold">{{ people.height ? people.height : '—' }}</p>
									<p class="font-semibold">{{ people.weight ? people.weight : '—' }}</p>
								</div>
							</div>

							<h1 class="text-3xl text-gray-900 mt-6 mb-8">Détails</h1>
							<div class="space-y-4">
								<div class="flex items-start">
									<div class="w-64 pr-10 text-gray-700">Langue(s) parlée(s)</div>
									<div class="font-semibold">
										{% if people.spokenLangages|length > 0 %}
											{% for language in people.spokenLangages %}
												{{ language.label }}{{ not loop.last ? ', ' : '' }}
											{% endfor %}
										{% else %}
											—
										{% endif %}
									</div>
								</div>
								
							</div>

							<div class="flex items-center justify-between">
								{% if app.user and (is_granted('ROLE_ADMIN')) %}
									<div class="flex gap-2">
										<a class="btn-secondary flex items-center space-x-2" href="#">
											<svg class="icon-with-text" fill="none" stroke="currentColor" viewbox="0 0 24 24" stroke-width="2">
												<path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
											</svg>
											<span>Modifier</span>
										</a>
									</div>
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			</div>
		</div>
	</div>
{% endblock %}